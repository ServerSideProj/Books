<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Styles for all pages -->
    <link
      rel="icon"
      type="image/x-icon"
      href="../../assets/icons/fav-icon.png"
    />
    <link rel="stylesheet" href="../../styles/style-guide.css" />
    <link rel="stylesheet" href="../../styles/general.css" />
    <link rel="stylesheet" href="../../components/Navbar/navbar-desktop.css" />
    <link rel="stylesheet" href="../../components/Navbar/navbar-mobile.css" />

    <!-- Scripts for all pages-->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="../../services/constants.js"></script>
    <script src="../../services/ajax.js"></script>
    <script src="../../services/auth.js" type="module"></script>
    <script src="../../components/Navbar/navbar.js" type="module"></script>

    <!-- data tables -->
    <link
      rel="stylesheet"
      href="https://cdn.datatables.net/2.1.3/css/dataTables.dataTables.css"
    />
    <script src="https://cdn.datatables.net/2.1.3/js/dataTables.js"></script>
    <!-- Styles for this page -->
    <link rel="stylesheet" href="../../components/Popup/popup.css" />
    <link rel="stylesheet" href="./admin.css" />
    <!-- Scripts for this page-->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="../../components/Popup/popup.js"></script>
    <script src="./admin.js"></script>
    <script src="./charts.js"></script>

    <title>Admin</title>
  </head>
  <body>
    <div class="bg-dark"></div>
    <div class="navbar"></div>
    <div class="main">
      <div class="container-flex-col gap-03 center-hor width100">
        <p class="big-text">Actions</p>
        <div class="btns">
          <a href="/pages/CreateBook/"
            ><div
              class="create-book-btn btn btn-create container-flex center-ver center-hor text-center l-text"
            >
              Add a new Book
            </div>
          </a>
          <div
            class="create-author-btn btn btn-create container-flex center-ver center-hor text-center l-text"
          >
            Add a new Author
          </div>
          <div
            class="create-user-btn btn btn-create container-flex center-ver center-hor text-center l-text"
          >
            Add a new User
          </div>
        </div>
      </div>
      <div class="container-flex-col gap-1 center-hor width100">
        <p class="big-text">Total Stats</p>
        <div class="total-stats">
          <div class="stat-box">
            <p class="md-text">Total books amount</p>
            <p class="xl-text" id="total-books">0</p>
          </div>
          <div class="stat-box">
            <p class="md-text">Total authors amount</p>
            <p class="xl-text" id="total-authors">0</p>
          </div>
          <div class="stat-box">
            <p class="md-text">Total users amount</p>
            <p class="xl-text" id="total-users">0</p>
          </div>
        </div>
      </div>

      <div class="inner-nav">
        <div id="books" class="opt selected">All Books</div>
        <div id="users" class="opt">All Users</div>
        <div id="authors" class="opt">All Authors</div>
      </div>

      <div class="inner-page inner-page-books">
        <table id="booksTable" class="display">
          <thead>
            <tr>
              <th>ID</th>
              <th>Title</th>
              <th>Language</th>
              <th>Avg Rating</th>
              <th>Rating Count</th>
              <th>Purchase Count</th>
              <th>Book Type</th>
              <th>Active</th>
              <th>Actions</th>
            </tr>
          </thead>
        </table>
      </div>
      <div class="inner-page inner-page-users">
        <table id="usersTable" class="display">
          <thead>
            <tr>
              <th>Email</th>
              <th>Username</th>
              <th>Purchased Books</th>
              <th>Coins</th>
              <th>Following</th>
              <th>Followers</th>
              <th>Actions</th>
            </tr>
          </thead>
        </table>
      </div>
      <div class="inner-page inner-page-authors">
        <table id="authorsTable" class="display">
          <thead>
            <tr>
              <th>ID</th>
              <th>Name</th>
              <th>Picture</th>
              <th>Picture URL</th>
              <th>Appearances</th>
              <th>Actions</th>
            </tr>
          </thead>
        </table>
      </div>
      <p class="big-text">Charts</p>

      <div class="charts-wrapper">
        <div class="chart-container">
          <p class="text-center xl-text">
            Purchased Books: eBooks vs Physical Books
          </p>
          <canvas id="booksChart_bookType"></canvas>
        </div>
        <div class="chart-container">
          <p class="text-center xl-text">Books Purchased by Price</p>
          <canvas id="booksChart_price"></canvas>
        </div>
        <div class="chart-container">
          <p class="text-center xl-text">Books Purchased by Category</p>
          <canvas id="booksChart_category"></canvas>
        </div>
      </div>
    </div>
  </body>
</html>
